

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Installation Instructions &mdash; PyMad v0.1.0 documentation</title>
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="PyMad v0.1.0 documentation" href="../index.html" />
    <link rel="next" title="Examples" href="../examples/index.html" />
    <link rel="prev" title="CERN PyMad" href="../index.html" /> 
  </head>
  <body> 

<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px">
<a href="../index.html"><img src="../_static/pymad-logo-text.png" border="0" alt="py4sci"/></a>
</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../examples/index.html" title="Examples"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../index.html" title="CERN PyMad"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">home</a>|&nbsp;</li>
        <li><a href="../search.html">search</a>|&nbsp;</li>
 
      </ul>
    </div>

      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Installation Instructions</a><ul>
<li><a class="reference internal" href="#jpymad">JPyMad</a></li>
<li><a class="reference internal" href="#cpymad">CPyMad</a></li>
<li><a class="reference internal" href="#potential-problems">Potential problems</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../index.html"
                        title="previous chapter">CERN PyMad</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../examples/index.html"
                        title="next chapter">Examples</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/installation/index.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="installation-instructions">
<h1>Installation Instructions<a class="headerlink" href="#installation-instructions" title="Permalink to this headline">¶</a></h1>
<p>Installation of PyMad is different depending on which underlying modules you want.</p>
<div class="section" id="jpymad">
<h2>JPyMad<a class="headerlink" href="#jpymad" title="Permalink to this headline">¶</a></h2>
<p>For JPyMad, you first need JMad which you can obtain <a class="reference external" href="http://cern.ch/jmad/">here</a>
Then, download the <a class="reference external" href="https://github.com/pymad/pymad">source</a>, and in pymad/src, run
the command</p>
<div class="highlight-sh"><div class="highlight"><pre>python setup.py install --install-platlib
</pre></div>
</div>
<p>The argument <em>&#8211;install-platlib</em> means we exclude external modules. The reason is that the external module cern.madx requires the dynamic library of Mad-X available on your system (which we here assume you do not have)</p>
</div>
<div class="section" id="cpymad">
<h2>CPyMad<a class="headerlink" href="#cpymad" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>First method, use installation script:</dt>
<dd><p class="first">We provide an <a class="reference external" href="install.sh">installation script</a> which should do the full job for you. Download the script
and run it. It will take a few minutes to finish. Upon successful completion, it will create an uninstall.sh
script which you should keep somewhere. This script knows all the files you have installed,
and will remove all files if you execute it (folders are not removed).</p>
<p class="last">Dependencies: cmake, compilers for c/fortran, python 2.6 or 2.7</p>
</dd>
</dl>
<p>Second method, source script:</p>
<blockquote>
<div><p>For CPymad on a 64 bit Linux machine with afs available, it is enough to source the script that we
currently provide in</p>
<blockquote>
<div>/afs/cern.ch/user/y/ylevinse/public/setupCPYMAD.sh</div></blockquote>
<p>We hope to in the near future provide a tarball for Linux and OSX containing all needed files.</p>
</div></blockquote>
<p>Third method, manual installation:</p>
<blockquote>
<div><ul>
<li><p class="first">Download the Mad-X source from
<a class="reference external" href="http://svnweb.cern.ch/world/wsvn/madx/trunk/madX/?op=dl&amp;rev=0&amp;isdir=1">svn</a>
and unpack it.</p>
</li>
<li><p class="first">Enter the folder madX and run the commands</p>
<div class="highlight-sh"><div class="highlight"><pre>mkdir build; <span class="nb">cd </span>build
cmake -DMADX_STATIC<span class="o">=</span>OFF -DBUILD_SHARED_LIBS<span class="o">=</span>ON ../
make install
</pre></div>
</div>
</li>
<li><p class="first">Download the PyMad source from <a class="reference external" href="https://github.com/pymad/pymad/zipball/master">github</a>
and unpack it</p>
</li>
<li><p class="first">In the folder pymad/src, run the command</p>
<div class="highlight-sh"><div class="highlight"><pre>python setup.py install
</pre></div>
</div>
</li>
</ul>
</div></blockquote>
<p>If you download JMad after following any of the methods described above for CPyMad,
you will immediately have JPyMad available as well.</p>
</div>
<div class="section" id="potential-problems">
<h2>Potential problems<a class="headerlink" href="#potential-problems" title="Permalink to this headline">¶</a></h2>
<p>In the following we will try to keep a list of the various issues users have reported during installation.</p>
<blockquote>
<div><ul>
<li><p class="first">libmadx.so not found:</p>
<div class="highlight-python"><pre>from cern.madx import madx
ImportError: libmadx.so: cannot open shared object file: No such file or directory</pre>
</div>
<p>Solution:
Though we try to set the runtime path during compilation, it doesn&#8217;t always work. Please set
the LD_LIBRARY_PATH in your environment. Example, if libmadx.so is installed in
$HOME/.local/lib, and you use bash, add to $HOME/.bashrc:</p>
<div class="highlight-sh"><div class="highlight"><pre><span class="nb">export </span><span class="nv">LD_LIBRARY_PATH</span><span class="o">=</span><span class="nv">$LD_LIBRARY_PATH</span>:<span class="nv">$HOME</span>/.local/lib/
</pre></div>
</div>
<p>Please note, on OSX you might need to use the variable DYLD_LIBRARY_PATH instead of
LD_LIBRARY_PATH. The authors are not very familiar with OSX, but know of at least one
occurence where that was the problem.</p>
</li>
<li><p class="first">Cython.Distutils not found:</p>
<div class="highlight-sh"><div class="highlight"><pre>Traceback <span class="o">(</span>most recent call last<span class="o">)</span>:
 File <span class="s2">&quot;setup.py&quot;</span>, line 22, in &lt;module&gt;
  from Cython.Distutils import build_ext
ImportError: No module named Cython.Distutils
</pre></div>
</div>
</li>
</ul>
<blockquote>
<div>Solution:
In order to get cpymad, you need Cython installed on your system. If you cannot obtain that, use jpymad instead.</div></blockquote>
</div></blockquote>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../examples/index.html" title="Examples"
             >next</a> |</li>
        <li class="right" >
          <a href="../index.html" title="CERN PyMad"
             >previous</a> |</li>
        <li><a href="../index.html">home</a>|&nbsp;</li>
        <li><a href="../search.html">search</a>|&nbsp;</li>
 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011, Y.I. Levinsen, K. Fuchsberger (CERN) .
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
  </body>
</html>